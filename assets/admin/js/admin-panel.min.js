jQuery((function(e){function i(e){var i=document.getElementById("snackbar");i.innerHTML=e,i.className="show",setTimeout((function(){i.className=i.className.replace("show","")}),3e3)}(function(){e("select#discount-type").on("change",(function(){"percent"===e(this).val()?(e("#coupon-amount").removeClass("wc_input_price").addClass("wc_input_decimal"),e("#coupon-amount").siblings(".description").text(wlfmc_wishlist_admin.i18n_percent_description)):(e("#coupon-amount").removeClass("wc_input_decimal").addClass("wc_input_price"),e("#coupon-amount").siblings(".description").text(wlfmc_wishlist_admin.i18n_amount_description))})).change()})(),e(document.body).on("change",".wc_input_price[type=text], .wc_input_decimal[type=text]",(function(){var i,n,t=wlfmc_wishlist_admin.decimal_point;e(this).is(".wc_input_price")&&(t=wlfmc_wishlist_admin.mon_decimal_point),i=new RegExp("[^-0-9%\\"+t+"]+","gi"),n=new RegExp("\\"+t+"+","gi");var a=e(this).val(),c=a.replace(i,"").replace(n,t);a!==c&&e(this).val(c)})).on("keyup",".wc_input_price[type=text], .wc_input_decimal[type=text]",(function(){var n,t,a,c=!1;e(this).is(".wc_input_price")?(c=!0,n=new RegExp("[^-0-9%\\"+wlfmc_wishlist_admin.mon_decimal_point+"]+","gi"),a=new RegExp("[^\\"+wlfmc_wishlist_admin.mon_decimal_point+"]","gi"),t=wlfmc_wishlist_admin.i18n_mon_decimal_error):(c=!0,n=new RegExp("[^-0-9%\\"+wlfmc_wishlist_admin.decimal_point+"]+","gi"),a=new RegExp("[^\\"+wlfmc_wishlist_admin.decimal_point+"]","gi"),t=wlfmc_wishlist_admin.i18n_decimal_error);var s=e(this).val(),l=s.replace(n,"");c&&1<l.replace(a,"").length&&(l=l.replace(a,"")),s!==l&&i(t)})),e(document.body).on("click",".wlfmc-built-wishlist-page:not(.disabled)",(function(i){i.preventDefault();var n=e(this),t=n.text();return n.addClass("disabled"),n.text(wlfmc_wishlist_admin.i18n_making_page),e.ajax({url:wlfmc_wishlist_admin.ajax_url,data:{action:"wlfmc_create_wishlist_page",key:wlfmc_wishlist_admin.ajax_nonce},dataType:"json",method:"POST",success:function(e){e&&e.success&&location.reload(!0)},error:function(){console.log("We cant create page. Something wrong with AJAX response. Probably some PHP conflict.")},complete:function(){n.removeClass("disabled"),n.text(t)}}),!1})),e(document.body).on("click",".wlfmc-send-offer-email-test",(function(n){n.preventDefault();var t=e(this),a=t.text();return t.addClass("disabled"),t.text(wlfmc_wishlist_admin.i18n_sending),e.ajax({url:wlfmc_wishlist_admin.ajax_url,data:{id:t.data("id"),field:t.data("field"),action:"wlfmc_send_offer_email_test",key:wlfmc_wishlist_admin.ajax_nonce},dataType:"json",method:"POST",success:function(e){e&&e.message&&i(e.message)},error:function(){console.log("We cant Send email. Something wrong with AJAX response. Probably some PHP conflict.")},complete:function(){t.removeClass("disabled"),t.text(a)}}),!1}))}));